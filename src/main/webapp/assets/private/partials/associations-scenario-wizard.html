<div class="container-fluid text-center">
<label>ASSOCIA I PARTECIPANTI AI PERSONAGGI</label>
	<p>Trascina la scheda di un partecipante sul personaggio che vuoi fargli interpretare</p>
	<div class="row">
	<div class="col-md-6">
		<label>PARTECIPANTI</label>
		<!-- Mettere qualcosa di decente quando non ce n'ï¿½ -->
							
<!-- 			<div class="col-sm-6" data-ng-show="!self.scenarioWizard.attendees || scenarioWizard.scenarioServer.attendees.length<=0">Non hai ancora invitato nessuno studente a partecipare</div> -->
				<div ui-draggable="true" drag="a" ui-on-Drop="scenarioWizard.onDrop($event,$data, $index)"
				drag-channel="attendees" drop-channel="characters"
				on-drop-success="scenarioWizard.dropSuccessHandlerCharacter($event, $index, scenarioWizard.scenarioServer.attendees)"
				ng-repeat="a in scenarioWizard.notAssociatedAttendees track by $index">
				<div class="row">	
					<div class="col-sm-3 col-xs-12"></div>
					<div ng-if=" scenarioWizard.isStudent(a)">
						<div class="col-sm-6 col-xs-12 btn generalButton textLeft marginMTop">
							<div class="row">
								<div class="col-xs-2">
									<img data-ng-src="{{a.cover}}" 
										data-err-src="/assets/public/img/ic_student.png" class="img-circle imgPreviewM">
								</div>
								<div class="col-xs-10 text-center">
									{{a.lastname}}<br>{{a.firstname}}
								</div>
							</div>
						</div>
					</div>
					<div ng-if="!scenarioWizard.isStudent(a) && a.id!=scenarioWizard.scenario.teacherCreator.id">
						<div class="col-sm-6 col-xs-12 btn generalButton1 textLeft marginMTop">
							<div class="row">
								<div class="col-xs-2">
									<img data-ng-src="{{a.cover}}" 
										data-err-src="/assets/public/img/ic_teacher.png" class="img-circle imgPreviewM">
								</div>
								<div class="col-xs-10 text-center">
									{{a.lastname}}<br> {{a.firstname}} <br>(docente)
								</div>
							</div>
						</div>
					</div>
					<div ng-if="!scenarioWizard.isStudent(a) && a.id==scenarioWizard.scenario.teacherCreator.id">
						<div class="col-sm-6 col-xs-12 btn generalButton1 textLeft marginMTop">
							<div class="row">
								<div class="col-xs-2">
									<img data-ng-src="{{a.cover}}" 
										data-err-src="/assets/public/img/ic_teacher.png" class="img-circle imgPreviewM">
								</div>
								<div class="col-xs-9 text-center">
								{{a.lastname}}<br>{{a.firstname}}<br>(creatore)
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-3 col-xs-12"></div>
				</div>
			</div>
	</div>
	
	<div class="col-md-6">
		<label>PERSONAGGI</label>
<!-- 			<div class="col-md-6 " data-ng-show="!self.scenarioWizard.characters || scenarioWizard.scenarioServer.characters.length<=0">Non hai ancora creato nessun personaggio per questo scenario</div> -->
				<div ui-draggable="true" drag="c" ui-on-Drop="scenarioWizard.onDrop($event,$data, $index)"
				drag-channel="characters" drop-channel="attendees"
				on-drop-success="scenarioWizard.dropSuccessHandlerAttendee($event, $index, scenarioWizard.scenarioServer.characters)"
				ng-repeat="c in scenarioWizard.notAssociatedCharacters track by $index">
				<div class="row">
					<div class="col-sm-3 col-xs-12"></div>
					<div class="col-sm-6 col-xs-12 btn generalButton textLeft marginMTop">
						<div class="row">
							<div class="col-xs-4">
								<img data-ng-src="{{c.cover}}" 
									data-err-src="/assets/public/img/icon/pg.png" class="img-circle imgPreviewM"> 
							</div>
							<div class="col-xs-8 text-right vAlignExt">
								<span class="vAlignInt">
									{{c.name | limitTo:15}}
									<span ng-if="c.name.length>15">...</span>
								</span>
							</div>
						</div>
					</div>
					<div class="col-sm-3 col-xs-12"></div>
				
				</div>
	</div>
	</div>
	<div class="container form-inline" style="text-align: center;">
          <div class="btn btn-droppable" ng-repeat="item in list5" data-drop="true" ng-model='list5' data-jqyoui-options="{accept:'.btn-draggable:not([ng-model=list5])'}"  jqyoui-droppable="{index: {{$index}}}">
            <div class="btn btn-info btn-draggable" data-drag="{{item.drag}}" data-jqyoui-options="{revert: 'invalid'}" ng-model="list5" jqyoui-draggable="{index: {{$index}},placeholder:true,animate:true, onStart: 'dragCallback($index)'}" ng-hide="!item.title">{{item.title}}</div>
          </div>
         </div> 
    </div>
    <div class="row text-center"><label>ASSOCIAZIONI</label></div>
    	<div data-ng-repeat="a in scenarioWizard.associations">
	    <div class="row marginMTop">
		    <div class="col-xs-4 btn generalButton">
		    	<div class="row">
		    		<div ng-if="scenarioWizard.isStudent(a.attendee)" class="col-xs-12 col-sm-6 wizardCardPadding">
		    			<img data-ng-src="{{a.attendee.cover}}/" 
							data-err-src="/assets/public/img/ic_student.png" class="img-circle imgPreviewL">
		    		</div>
		    		<div ng-if="!scenarioWizard.isStudent(a.attendee)" class="col-xs-12 col-sm-6 wizardCardPadding">
		    			<img data-ng-src="{{a.attendee.cover}}/" 
							data-err-src="/assets/public/img/ic_teacher.png" class="img-circle imgPreviewL">
		    		</div>
		    		<div class="col-xs-12 col-sm-6 wizardCardPadding">
		    			<div class="marginEmS">{{a.attendee.lastname}}<br>{{a.attendee.firstname}}</div>
		    		</div>
		    	</div>
		    </div>
		    <div class="col-xs-4 visible-lg visible-md visible-sm hidden-xs">
				<img hide-on-hover-parent data-ng-src="/assets/public/img/ic_association.png" class="linkImg" width="150px">
				<img show-on-hover-parent style="display:none" data-ng-src="/assets/public/img/ic_association_del.png" class="linkImg" width="150px" data-ng-click="scenarioWizard.removeAssociation(a)">
			</div>
    		<div class="col-xs-4 hidden-lg hidden-md hidden-sm visible-xs">
				<img hide-on-hover-parent data-ng-src="/assets/public/img/ic_association_sm.png" class="linkImg2" width="75px">
				<img show-on-hover-parent style="display:none" data-ng-src="/assets/public/img/ic_association_del_sm.png" class="linkImg2" width="75px" data-ng-click="scenarioWizard.removeAssociation(a)">
			</div>
			<div class="col-xs-4 btn generalButton">
				<div class="row">
					<div class="col-xs-12 col-sm-6 wizardCardPadding">
						<img data-ng-src="{{a.character.cover}}" 
						data-err-src="/assets/public/img/icon/pg.png" class="img-circle imgPreviewL">
					</div>
					<div class="col-xs-12 col-sm-6 marginEmS noPadding">
						<br>{{a.character.name | limitTo:10}}
						<span ng-if="a.character.name.length>10">...</span>
					</div>
				</div>
			</div>
	    </div>
    </div>

<a href="">
<img ng-src="assets/public/img/wizard/indietro.png" class="pull-left marginMTop wizButton" data-ui-sref="logged.scenarioWizard.characters" data-ng-click="scenarioWizard.saveInfo()">
</a>
<a href="">
<img ng-src="assets/public/img/wizard/avanti.png" class="pull-right marginMTop wizButton" data-ui-sref="logged.scenarioWizard.collaborators" data-ng-click="scenarioWizard.saveInfo()">
</a>