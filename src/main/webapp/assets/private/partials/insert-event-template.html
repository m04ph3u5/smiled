
<div>

		<div class="text-center">
			<div class="row">
				<div class="pull-left">
					<img style="margin: 5px; margin-left: 20px;"
						class="img-thumbnail imgPreviewL"
						src="assets/public/img/bookImage.png"></img><i>Narratore</i>
				</div>
				<div style="margin-right: 15px;" class="pull-right">
					<label data-ng-click="insertEvent.setDateNewPost()">{{insertEvent.newPost.date.formatted}}</label>
					<div data-ng-click="insertEvent.setDateNewPost()"
						class="glyphicon glyphicon-calendar"></div>
					<div data-ng-show="insertEvent.showDatePicker"
						historical-date-picker date="insertEvent.newPost.date"></div>
				</div>
			</div>
			<textarea id="textarea-event"placeholder="COSA E' SUCCESSO?" class="col-md-12"
				rows="5" data-ng-model="insertEvent.newPost.content"></textarea>
		</div>


		<div class="pull-left">
			<div title="Aggiungi un'immagine all'evento" ngf-select
				ngf-change="insertEvent.addImageToNewPost($files)"
				class="tooltips glyphicon glyphicon-camera"
				style="margin-right: 5px;"></div>

			<div data-ng-repeat="image in insertEvent.newPost.image">
				{{image.name}} <span data-ng-show="image.name" show-on-hover-parent
					class="glyphicon glyphicon-remove"
					data-ng-click="insertEvent.removeImage(image)"></span>
			</div>
			<div title="Allega un file all'evento" ngf-select
				ngf-change="insertEvent.addFileToNewPost($files)"
				class="tooltips glyphicon glyphicon-file" style="margin-right: 5px;"></div>
			<div data-ng-repeat="file in insertEvent.newPost.file">
				{{file.name}} <span data-ng-show="file.name" show-on-hover-parent
					class="glyphicon glyphicon-remove"
					data-ng-click="insertEvent.removeFile(file)"></span>
			</div>

			<div title="Aggiungi una posizione all'evento"
				data-ng-click="insertEvent.setPositionNewPost()"
				class="tooltips glyphicon glyphicon-map-marker"
				style="margin-right: 5px;"></div>
			<!-- 					<label></label> -->
			<!-- 			<div title="Tagga personaggi al post" -->
			<!-- 				class="tooltips glyphicon glyphicon-tags" my-tag-box tags="insertEvent.newPost.tags" selectable="insertEvent.scenario.characters"  -->
			<!-- 					type="character" scenario="{{insertEvent.scenario.id}}" style="margin-right: 5px;"></div> -->
			<!-- 			<label></label> -->

			<div class="tooltips glyphicon glyphicon-tags"
				title="Tagga personaggi all'evento"
				data-ng-click="insertEvent.switchShowTagBox()" style="margin-right: 5px;"></div>
				
			<tags-input data-ng-show="insertEvent.showTagBox"
				data-ng-model="insertEvent.newPost.tags" display-property="name"
				placeholder="Tagga un personaggio" replace-spaces-with-dashes="false"
				template="tag-template" add-from-autocomplete-only="true">
			<auto-complete source="insertEvent.search($query,true)"
				min-length="0" load-on-focus="true" load-on-empty="true"
				max-results-to-show="32" template="autocomplete-template">
			</auto-complete> </tags-input>
			<!-- 					<div title="Indica le tue fonti" -->
			<!-- 						data-ng-click="scenarioPost.addSourceToNewPost()" -->
			<!-- 						class="tooltips glyphicon glyphicon-book" style="margin-right: 5px;"></div> -->
			<!-- 					<label></label> -->
			<!-- 				</div> -->
			<div class="tooltips glyphicon glyphicon-info-sign" 
			title="Seleziona la tipologia dell'evento" data-ng-click="insertEvent.showSelectType()"
			style="margin-right: 5px;"">
			</div>
			<div data-ng-show="insertEvent.showViewToSelectType">
			
			<select id="select-type" class="selectpicker" data-ng-model="insertEvent.newPost.type">
				<option value="" disabled selected style="display:none;">TIPOLOGIA EVENTO</option>
				<option>NASCITA</option>
			    <option>MORTE</option>
			    <option>MATRIMONIO</option>
			    <option>BATTAGLIA</option>
			    <option>INCORONAZIONE</option>
			    <option>ALTRO</option>
			</select>
			</div>
		</div>

		
	</div>
	<div class="row col-md-10 col-md-offset-1">
			<div class="pull-right">
				<div data-ng-click="insertEvent.draftNewPost()"
					class="btn generalButton">SALVA COME BOZZA</div>
				<div data-ng-click="insertEvent.savePost()"
					class="btn generalButton">PUBBLICA</div>
			</div>
		</div>



<script type="text/ng-template" id="tag-template">
      <div class="tag-template">
 <!--       <div class="left-panel">
          <img class="imgPreviewM" data-ng-src="{{data.cover}}" data-err-src="assets/public/img/user_ico.png"/>
        </div> -->
        <div class="right-panel">
          <span>{{$getDisplayText()}}</span>
          <a class="remove-button" ng-click="$removeTag()">&#10006;</a>
        </div>
      </div>
</script>

<script type="text/ng-template" id="autocomplete-template">
      <div class="autocomplete-template">
        <div class="left-panel">
          <img class="imgPreviewM" data-ng-src="{{data.cover}}" data-err-src="assets/public/img/user_ico.png"/>
        </div>
        <div class="right-panel">
          <span ng-bind-html="$highlight($getDisplayText())"></span>
        </div>
      </div>
</script>